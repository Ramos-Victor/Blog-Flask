{% extends "base.html" %}

{% block titulo %}Novo artigo • Administração{% endblock %}

{% block content %}
<section class="mx-auto max-w-3xl flex flex-col gap-6">
  <header>
    <h1 class="text-2xl font-semibold tracking-tight">Adicionar artigo</h1>
    <p class="text-zinc-600">Preencha os campos abaixo para publicar um novo artigo.</p>
  </header>

  <form method="POST" class="rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm">
    {% if csrf_token %}<input type="hidden" name="csrf_token" value="{{ csrf_token }}">{% endif %}

    <div class="grid gap-5">
      <div>
        <label class="block text-sm font-medium text-zinc-800" for="title">Título</label>
        {{form.titulo.label(class='block text-sm font-medium text-zinc-800')}}
        <input
          id="title"
          name="title"
          type="text"
          value="{{ form.title if form and form.title is not none else '' }}"
          placeholder="Digite o titulo do artigo"
          class="mt-2 w-full rounded-xl border border-zinc-200 bg-white px-4 py-3 text-sm outline-none focus:border-zinc-900" />
          {{form.titulo(class='mt-2 w-full rounded-xl border border-zinc-200 bg-white px-4 py-3 text-sm outline-none focus:border-zinc-900')}}
        {% if form and form.errors and form.errors.titulo %}
          <p class="mt-2 text-sm text-rose-600">{{ form.errors.titulo[0] }}</p>
        {% endif %}
      </div>

      <div>
        <label class="block text-sm font-medium text-zinc-800" for="published_at">Data de publicação</label>
        <input
          id="published_at"
          name="published_at"
          type="date"
          value="{{ form.published_at if form and form.published_at is not none else '' }}"
          class="mt-2 w-full rounded-xl border border-zinc-200 bg-white px-4 py-3 text-sm outline-none focus:border-zinc-900" />
        {% if form and form.errors and form.errors.publicado_em %}
          <p class="mt-2 text-sm text-rose-600">{{ form.errors.published_at[0] }}</p>
        {% endif %}
      </div>

      <div>
        <label class="block text-sm font-medium text-zinc-800" for="content">Conteúdo</label>
        <textarea
          id="content"
          name="content"
          rows="10"
          placeholder="Escreva o conteúdo do artigo aqui..."
          class="mt-2 w-full rounded-xl border border-zinc-200 bg-white px-4 py-3 text-sm outline-none focus:border-zinc-900">{{ form.content if form and form.content is not none else '' }}</textarea>
        {% if form and form.errors and form.errors.content %}
          <p class="mt-2 text-sm text-rose-600">{{ form.errors.content[0] }}</p>
        {% endif %}
      </div>

      <div class="flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between">
        <a href="{{ url_for('admin_dashboard') }}" class="text-sm text-zinc-600 hover:text-zinc-900 hover:underline">
          Cancelar
        </a>

        <button
          type="submit"
          class="inline-flex items-center justify-center rounded-xl bg-zinc-900 px-5 py-3 text-sm font-medium text-white hover:bg-zinc-800 transition">
          Publicar
        </button>
      </div>
    </div>
  </form>
</section>
{% endblock %}
